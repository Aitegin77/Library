@page
@model API.Pages.Authors.CreateModel
@{
    ViewData["Title"] = "Создание нового автора";
}

<h2 class="text-4xl font-bold mb-10 text-center text-white">Создание нового автора</h2>
<form method="post" enctype="multipart/form-data" asp-page-handler="Create"
      class="max-w-3xl mx-auto space-y-6 bg-white p-6 rounded-xl shadow-md">

    <div asp-validation-summary="ModelOnly" class="text-red-600"></div>

    <!-- Имя автора -->
    <div>
        <label asp-for="Author.FirstName" class="block text-sm font-medium text-gray-700 mb-1"></label>
        <input asp-for="Author.FirstName" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none" />
        <span asp-validation-for="Author.FirstName" class="text-red-600 text-sm"></span>
    </div>

    <!-- Фамилия автора -->
    <div>
        <label asp-for="Author.LastName" class="block text-sm font-medium text-gray-700 mb-1"></label>
        <input asp-for="Author.LastName" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none" />
        <span asp-validation-for="Author.LastName" class="text-red-600 text-sm"></span>
    </div>

    <!-- Отчество автора -->
    <div>
        <label asp-for="Author.Patronymic" class="block text-sm font-medium text-gray-700 mb-1"></label>
        <input asp-for="Author.Patronymic" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none" />
        <span asp-validation-for="Author.Patronymic" class="text-red-600 text-sm"></span>
    </div>

    <!-- Дата рождения -->
    <div>
        <label asp-for="Author.DateOfBirth" class="block text-sm font-medium text-gray-700 mb-1"></label>
        <input asp-for="Author.DateOfBirth" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none" type="date" />
        <span asp-validation-for="Author.DateOfBirth" class="text-red-600 text-sm"></span>
    </div>

    <!-- Дата смерти -->
    <div>
        <label asp-for="Author.DateOfDeath" class="block text-sm font-medium text-gray-700 mb-1"></label>
        <input asp-for="Author.DateOfDeath" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none" type="date" />
        <span asp-validation-for="Author.DateOfDeath" class="text-red-600 text-sm"></span>
    </div>

    <!-- Страна -->
    <div>
        <label for="country-search" class="block text-sm font-medium text-gray-700 mb-1">Страна</label>
        <input type="text" id="country-search" class="w-full border rounded p-2 mb-1" autocomplete="off" />
        <div id="country-list" class="border border-gray-300 rounded max-h-40 overflow-y-auto hidden"></div>
        <input type="hidden" asp-for="Author.CountryId" />
        <span asp-validation-for="Author.CountryId" class="text-red-600 text-sm"></span>
    </div>

    <!-- Ссылка на автора -->
    <div>
        <label asp-for="Author.Link" class="block text-sm font-medium text-gray-700 mb-1"></label>
        <input asp-for="Author.Link" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none" />
        <span asp-validation-for="Author.Link" class="text-red-600 text-sm"></span>
    </div>

    <!-- Кнопка отправки -->
    <div class="flex justify-center">
        <button type="submit" asp-page-handler="Create"
                class="bg-green-600 text-white px-5 py-2 rounded-lg hover:bg-green-700 transition">
            Создать
        </button>
    </div>
</form>

<script src="~/js/uploadBook.js"></script>
<script src="~/js/countrySearch.js"></script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}